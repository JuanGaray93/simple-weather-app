var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,i=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&l(e,r,t[r]);if(o)for(var r of o(t))a.call(t,r)&&l(e,r,t[r]);return e},c=(e,o)=>t(e,r(o));import{R as s,r as u,a as d}from"./vendor.5aed8a75.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var m,p;(p=m||(m={})).Glew="3433762",p.Boulogne="3435971",p.Caba="3433955",p.SaoPaulo="3448439",p.SanFernando="3429095";const f=e=>Object.values(m).includes(e),y={[m.Glew]:"Glew",[m.Boulogne]:"Boulogne Sur Mer",[m.Caba]:"Ciudad Autónoma de Buenos Aires",[m.SanFernando]:"San Fernando",[m.SaoPaulo]:"São Paulo"},g={[m.Glew]:{lon:-58.37764,lat:-34.89151},[m.Boulogne]:{lon:-58.565811,lat:-34.50732},[m.Caba]:{lon:-58.450001,lat:-34.599998},[m.SanFernando]:{lon:-58.56279,lat:-34.44104},[m.SaoPaulo]:{lon:-46.636108,lat:-23.547501}},h=e=>200<=e&&e<=299?"Tormenta":300<=e&&e<=399?"Lluvia ligera":500<=e&&e<=599?"Lluvia":600<=e&&e<=699?"Nieve":801<=e&&e<=809?"Nublado":800===e?"Despejado":701===e?"Niebla":711===e?"Humo":721===e?"Bruma":731===e||761===e?"Polvo":741===e?"Niebla espesa":751===e?"Arena":771===e?"Vendaval":781===e?"Tornado":"",v=e=>[e,f(e)?y[e]:"Ciudad actual"],b=({options:e,currCity:t,onChangeCity:r,loading:o,className:n})=>s.createElement("select",{value:t,onChange:e=>{var t;return r(null!=(t=(e=>{if(f(e))return e})(e.target.value))?t:"")},name:"cities",disabled:o,className:n},e.map(v).map((([e,t])=>s.createElement("option",{key:e,value:e},t)))),E=e=>{const t=new Date(1e3*e),[r,o,n]=[t.getMonth()+1,t.getDate(),t.getFullYear()];return`${o}/${r}/${n}`},w=({day:e,temp:t,iconId:r,weatherDescription:o})=>s.createElement("article",{className:"bg-transparentBlack p-4 w-40 h-48 flex flex-col justify-center text-white"},s.createElement("h3",null,e),s.createElement("p",null,t,"°C"),s.createElement("p",null,o),s.createElement("img",{src:`http://openweathermap.org/img/wn/${r}@2x.png`,title:o,alt:o})),C=({forecast:e})=>s.createElement("ol",{className:"flex flex-wrap flex-row gap-10"},s.createElement("li",null,s.createElement(w,{weatherDescription:h(e.current.weather[0].id),day:"Hoy",iconId:e.current.weather[0].icon,temp:e.current.temp})),e.daily.map(((e,t)=>s.createElement("li",{key:t},s.createElement(w,{weatherDescription:h(e.weather[0].id),day:E(e.dt),iconId:e.weather[0].icon,temp:e.temp.day})))));var N,x;(x=N||(N={}))[x.NoPermissions=0]="NoPermissions",x[x.FetchingError=1]="FetchingError";const P={1:"Ocurrió un error al obtener el pronóstico. Inténtelo de nuevo.",0:"La aplicación necesita acceder a su ubicación. Revise los permisos de la página e intente de nuevo."},S="boolean"==typeof(j="c89d4d7cb74abc4b5661d6ce875fc4a3")?"":null!=j?j:"";var j;const O=async e=>{const t=(e=>{var t;return`https://api.openweathermap.org/data/2.5/onecall?exclude=minutely,hourly,alerts&units=metric&lat=${(t=i({appId:S,count:5},"object"==typeof e?e:g[e])).lat}&lon=${t.lon}&cnt=${t.count}&appid=${t.appId}`})(e),r=await fetch(t);if(r.ok)return r.json();throw new Error},L=["",...Object.values(m)],I=()=>{var e,t;const[r,o]=u.exports.useState({}),[n,a]=u.exports.useState(""),l=void 0===r.fetchedCity;return u.exports.useEffect((()=>{void 0===r.userLocation&&navigator.geolocation.getCurrentPosition((e=>{o((t=>c(i({},t),{userLocation:{lat:e.coords.latitude,lon:e.coords.longitude}})))}),(()=>{o((e=>c(i({},e),{error:N.NoPermissions})))})),(async e=>{o((e=>c(i({},e),{fetchedCity:void 0})));const t=null!=e?e:r.userLocation;try{if(!t)return;const r=await O(t);o((t=>c(i({},t),{fetchedCity:r,currCityId:e,error:void 0})))}catch(n){o((e=>c(i({},e),{fetchedCity:void 0,currCityId:void 0,error:N.FetchingError})))}})(n||void 0)}),[null==(e=r.userLocation)?void 0:e.lat,null==(t=r.userLocation)?void 0:t.lon,n]),s.createElement("div",{className:"min-h-screen flex flex-col bg-lavenderWeb "},s.createElement("h1",{className:"h-20 text-5xl bg-queenPink p-4"},"Weather"),s.createElement("main",{className:"p-4"},s.createElement("section",null,s.createElement(b,{options:L,currCity:n,onChangeCity:e=>a(e),loading:l,className:"my-4"}),void 0!==r.error?s.createElement("p",{className:"text-red"},P[r.error]):null),s.createElement("section",null,l&&void 0===r.error&&s.createElement("p",null,"Cargando..."),r.fetchedCity&&s.createElement(C,{forecast:r.fetchedCity}))))};d.render(s.createElement(s.StrictMode,null,s.createElement(I,null)),document.getElementById("root"));
//# sourceMappingURL=index.0c40555e.js.map
